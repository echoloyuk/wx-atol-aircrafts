<!--pages/crafts/index.wxml-->
<view class="crafts-container">
  <view class="crafts-header-panel" bind:tap="tapFilterHandler">
    <text>Header</text>
  </view>
  <popup 
    show="{{showFilter}}"
    bind:onTapMask="tapMaskHandler">
    <view class="filter-panel">
      <view class="filter-item">
        <view class="filter-text">机型</view>
        <switch checked="{{showing.type}}" />
      </view>
      <view class="filter-item">
        <view class="filter-text">舱位</view>
        <switch checked="{{showing.className}}" />
      </view>
      <view class="filter-item">
        <view class="filter-text">运力</view>
        <switch checked="{{showing.capacityAndPayload}}" />
      </view>
      <view class="filter-item">
        <view class="filter-text">里程</view>
        <switch checked="{{showing.range}}" />
      </view>
      <view class="filter-item">
        <view class="filter-text">燃油效率</view>
        <switch checked="{{showing.fuelEfficient}}" />
      </view>
      <view class="filter-item">
        <view class="filter-text">航速</view>
        <switch checked="{{showing.speed}}" />
      </view>
      <view class="filter-item">
        <view class="filter-text">价格</view>
        <switch checked="{{showing.price}}" />
      </view>
      <view class="filter-item">
        <view class="filter-text">上市时间</view>
        <switch checked="{{showing.introDate}}" />
      </view>
      <view class="filter-item">
        <view class="filter-text">停产时间</view>
        <switch checked="{{showing.endDate}}" />
      </view>
    </view>
  </popup>
  <view class="crafts-content-panel">
    <scroll-view scroll-x="true">
      <view class="crafts-table">
        <view class="table-tr">
          <view class="table-th type" id="type" bind:tap="sortHandler">
            机型
            <view 
              class="sort-icon {{sortKey==='type' ? 'current' + (sortType === 'asc' ? ' down' : '') : 'down'}}" />
          </view>
          <view class="table-th class">舱位</view>
          <view class="table-th capacity">
            运力
          </view>
          <view class="table-th range" id="range" bind:tap="sortHandler">
            里程
            <view 
              class="sort-icon {{sortKey==='range' ? 'current' + (sortType === 'asc' ? ' down' : '') : 'down'}}" />
          </view>
          <view class="table-th effi" id="fuelEfficient" bind:tap="sortHandler">
            燃油效率
            <view 
              class="sort-icon {{sortKey==='fuelEfficient' ? 'current' + (sortType === 'asc' ? ' down' : '') : 'down'}}" />
          </view>
          <view class="table-th speed" id="speed" bind:tap="sortHandler">
            航速
            <view 
              class="sort-icon {{sortKey==='speed' ? 'current' + (sortType === 'asc' ? ' down' : '') : 'down'}}" />
          </view>
          <view class="table-th price" id="price" bind:tap="sortHandler">
            价格
            <view 
              class="sort-icon {{sortKey==='price' ? 'current' + (sortType === 'asc' ? ' down' : '') : 'down'}}" />
          </view>
          <view class="table-th intr" id="introDate" bind:tap="sortHandler">
            上市时间
            <view 
              class="sort-icon {{sortKey==='introDate' ? 'current' + (sortType === 'asc' ? ' down' : '') : 'down'}}" />
          </view>
          <view class="table-th end" id="endDate" bind:tap="sortHandler">
            停产时间
            <view 
              class="sort-icon {{sortKey==='endDate' ? 'current' + (sortType === 'asc' ? ' down' : '') : 'down'}}" />
          </view>
        </view>
        <view class="table-tr" wx:for="{{data}}" wx:for-item="item" wx:key="index">
          <view class="table-td type">{{item.type}}</view>
          <view class="table-td class">{{item.className}}</view>
          <view class="table-td capacity">{{item.capacity !== '0' ? item.capacity : item.payload + 't'}}</view>
          <view class="table-td range">{{item.range}}</view>
          <view class="table-td effi">{{item.fuelEfficient}}</view>
          <view class="table-td speed">{{item.speed}}</view>
          <view class="table-td price">{{item.price}}</view>
          <view class="table-td intr">{{item.introDate}}</view>
          <view class="table-td end">{{item.endDate}}</view>
        </view>
      </view>
    </scroll-view>
  </view>
</view>
